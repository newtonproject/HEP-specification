(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{262:function(e,a,t){"use strict";t.r(a);var s=t(2),i=function(e){e.options.__data__block__={mermaid_382ee168:"sequenceDiagram;\n    participant User;\n    participant Native Dapp;\n\tparticipant NewPay;\n\tparticipant HEP API;\n    User->>Native Dapp: Click Login;\n\tNative Dapp->>NewPay: Send login request;\n\tNewPay->>HEP API: Send Dapp public key;\n\tHEP API->>NewPay: Send Dapp info, request user access;\n\tNewPay->> User: Prompt to authorize login;\n\tUser->>NewPay: Authorize login;\n\tNewPay->>Native Dapp: NewID sent to Dapp;\n\tNewPay--\x3e>Native Dapp: Send user back;\n",mermaid_382ee23d:"sequenceDiagram;\n    participant User;\n    participant Website;\n\tparticipant NewPay;\n\tparticipant HEP API;\n \n    User->>Website: Click Login;\n\tWebsite->>User: Display QR code;\n\tUser--\x3e>NewPay: Open NewPay;\n\tUser->>NewPay: Scan QR code;\n\tNewPay->>HEP API: Send website public key;\n\tHEP API->>NewPay: Send website info, request user access;\n\tNewPay->> User: Prompt to authorize login;\n\tUser->>NewPay: Authorize login;\n\tNewPay->>Website: NewID sent to website;\n\tNewPay--\x3e>Website: Send user back;\n",mermaid_64a56fa8:"sequenceDiagram;\n    participant User;\n    participant Dapp;\n\tparticipant NewPay;\n\tparticipant HEP API;\n\n\tUser->>NewPay: Open Dapp Store;\n\tUser->>NewPay: Install Dapp;\n\tUser--\x3e>Dapp: Open Dapp\n\tDapp->>NewPay: Request NewID access\n\tNewPay->>HEP API: Send Dapp public key;\n\tHEP API->>NewPay: Send Dapp info, request user access;\n\tNewPay->>User: Pop-up requesting NewID\n\tUser->>NewPay: Authorize access\n\tNewPay->>Dapp: NewID sent to Dapp;\n\tNewPay--\x3e>Dapp: Send user back;\n"}},r=Object(s.a)({},(function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"newpay-login-process"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#newpay-login-process"}},[e._v("#")]),e._v(" NewPay Login Process")]),e._v(" "),t("h2",{attrs:{id:"preconditions"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#preconditions"}},[e._v("#")]),e._v(" Preconditions")]),e._v(" "),t("ul",[t("li",[e._v("User has NewPay installed on their device and has set a NewID")]),e._v(" "),t("li",[e._v("The Dapp or website requesting login has [registered on Newton's platform]")])]),e._v(" "),t("h2",{attrs:{id:"the-login-process"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#the-login-process"}},[e._v("#")]),e._v(" The Login Process")]),e._v(" "),t("h2",{attrs:{id:"native-dapp"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#native-dapp"}},[e._v("#")]),e._v(" Native Dapp")]),e._v(" "),t("Mermaid",{attrs:{id:"mermaid_382ee168",graph:e.$dataBlock.mermaid_382ee168}}),t("h3",{attrs:{id:"dapp-requests-user-login"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#dapp-requests-user-login"}},[e._v("#")]),e._v(" Dapp requests user login")]),e._v(" "),t("ol",[t("li",[e._v("Dapp displays "),t("strong",[e._v("Login with NewID")]),e._v(" button")]),e._v(" "),t("li",[e._v("User taps button")])]),e._v(" "),t("ul",[t("li",[e._v("See [newpay.native.login.requestAccess]")])]),e._v(" "),t("h3",{attrs:{id:"user-authorizes-dapp-on-newpay"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#user-authorizes-dapp-on-newpay"}},[e._v("#")]),e._v(" User authorizes Dapp on NewPay")]),e._v(" "),t("ol",[t("li",[e._v("Dapp sends request for login to NewPay")]),e._v(" "),t("li",[e._v("NewPay gets public key of Dapp through [signature] and [message] parameters")]),e._v(" "),t("li",[e._v("NewPay sends public key to [HEP API]")]),e._v(" "),t("li",[e._v("HEP API uses public key to request app information that was registered in database and sends that information back to NewPay")]),e._v(" "),t("li",[e._v("NewPay opens and prompts user to authorize the Dapp login based on information gathered from HEP API")]),e._v(" "),t("li",[e._v("User confirms login")]),e._v(" "),t("li",[e._v("User's NewID is sent to Dapp, with [message] and [signature]")])]),e._v(" "),t("h2",{attrs:{id:"website"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#website"}},[e._v("#")]),e._v(" Website")]),e._v(" "),t("Mermaid",{attrs:{id:"mermaid_382ee23d",graph:e.$dataBlock.mermaid_382ee23d}}),t("h3",{attrs:{id:"website-requests-user-login"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#website-requests-user-login"}},[e._v("#")]),e._v(" Website requests user login")]),e._v(" "),t("ol",[t("li",[e._v("Website displays "),t("em",[e._v("Login with NewID")]),e._v(" button")]),e._v(" "),t("li",[e._v("User clicks or taps button")]),e._v(" "),t("li",[e._v("If on mobile, user is redirected to NewPay. Otherwise, website pops up a QR code for user to scan, containing [website signature] and [message]")])]),e._v(" "),t("ul",[t("li",[e._v("See [newpay.web.login.requestAccess]")])]),e._v(" "),t("h3",{attrs:{id:"user-authorizes-website-on-newpay"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#user-authorizes-website-on-newpay"}},[e._v("#")]),e._v(" User authorizes website on NewPay")]),e._v(" "),t("ol",[t("li",[e._v("NewPay gets public key of website through [signature] and [message] parameters")]),e._v(" "),t("li",[e._v("NewPay sends public key to [HEP API]")]),e._v(" "),t("li",[e._v("HEP API uses public key to request website information that was registered in database and sends that information back to NewPay")]),e._v(" "),t("li",[e._v("NewPay opens and prompts user to authorize the website login based on information gathered from HEP API")]),e._v(" "),t("li",[e._v("User confirms login")]),e._v(" "),t("li",[e._v("User's NewID is sent to website, with [message] and [signature]")])]),e._v(" "),t("h2",{attrs:{id:"dapp-in-dapp"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#dapp-in-dapp"}},[e._v("#")]),e._v(" Dapp-in-Dapp")]),e._v(" "),t("Mermaid",{attrs:{id:"mermaid_64a56fa8",graph:e.$dataBlock.mermaid_64a56fa8}}),t("h3",{attrs:{id:"user-installs-dapp"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#user-installs-dapp"}},[e._v("#")]),e._v(" User installs Dapp")]),e._v(" "),t("ol",[t("li",[e._v("User opens Dapp Store in NewPay")]),e._v(" "),t("li",[e._v("User installs Dapp")]),e._v(" "),t("li",[e._v("User's NewID automatically shared upon install ("),t("strong",[e._v("correct")]),e._v("?)")])]),e._v(" "),t("h3",{attrs:{id:"user-opens-dapp-in-newpay"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#user-opens-dapp-in-newpay"}},[e._v("#")]),e._v(" User opens Dapp in NewPay")]),e._v(" "),t("ul",[t("li",[e._v("User automatically logged into Dapp-in-Dapp")])])],1)}),[],!1,null,null,null);"function"==typeof i&&i(r);a.default=r.exports}}]);