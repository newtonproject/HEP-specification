(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{275:function(e,a,t){"use strict";t.r(a);var v=t(2),_=Object(v.a)({},(function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"基础架构"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#基础架构"}},[e._v("#")]),e._v(" 基础架构")]),e._v(" "),t("img",{attrs:{src:"https://gitlab.newtonproject.org/xiawu/newton-documentation/uploads/012152af18aafb9f607fcb9967ccbcc4/14941558591441_.pic_hd.jpg"}}),e._v(" "),t("ol",[t("li",[e._v("NewChain  NewNet  NewIoT  NewAI")])]),e._v(" "),t("blockquote",[t("p",[e._v("Newton底层技术支持")])]),e._v(" "),t("ol",{attrs:{start:"2"}},[t("li",[t("p",[e._v("基础合约 + MarketPlace(提供合约模板)")])]),e._v(" "),t("li",[t("p",[e._v("Proof Engine + HEP-Node")])])]),e._v(" "),t("blockquote",[t("p",[e._v("Proof Engine: 用于查询工作量信息，提交数据信息（基于Proof的Blockchain）"),t("br"),e._v("\nHEP-Node: 提供查询接口服务 第三方通过HEP-Node，去 ProofEngine 实现所需要的功能")])]),e._v(" "),t("ol",{attrs:{start:"4"}},[t("li",[e._v("行业SDK, 基础服务SDK, Oracle服务")])]),e._v(" "),t("blockquote",[t("p",[e._v("行业SDK: TBD"),t("br"),e._v("\n基础服务SDK: 联合登录，数据上链，New 支付（包括Native, Web, H5）")])]),e._v(" "),t("h1",{attrs:{id:"dapp-分类"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#dapp-分类"}},[e._v("#")]),e._v(" Dapp 分类")]),e._v(" "),t("ol",[t("li",[e._v("Native Dapp")])]),e._v(" "),t("blockquote",[t("p",[e._v("运行在手机端的app，包括Native和js")])]),e._v(" "),t("ol",{attrs:{start:"2"}},[t("li",[e._v("Web Dapp")])]),e._v(" "),t("blockquote",[t("p",[e._v("在网站中的app，需要接入提供的 hep.js,实现登录，提交数据等功能")])]),e._v(" "),t("ol",{attrs:{start:"3"}},[t("li",[e._v("NewDapp")])]),e._v(" "),t("blockquote",[t("p",[e._v("运行在NewVM")])]),e._v(" "),t("h2",{attrs:{id:"dapp-接入流程"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#dapp-接入流程"}},[e._v("#")]),e._v(" Dapp 接入流程")]),e._v(" "),t("h3",{attrs:{id:"公共部分"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#公共部分"}},[e._v("#")]),e._v(" 公共部分")]),e._v(" "),t("ol",[t("li",[e._v("使用NewID登录 developer（使用NewId登录） 网站，填写DApp信息")])]),e._v(" "),t("blockquote",[t("ol",[t("li",[e._v("申请的Dapp 类型（web，native(android/ios), h5）")]),e._v(" "),t("li",[e._v("Icon")]),e._v(" "),t("li",[e._v("Native的话需要 包名或者Bundle")]),e._v(" "),t("li",[e._v("网站的话需要 api 域名")]),e._v(" "),t("li",[e._v("应用名称")]),e._v(" "),t("li",[e._v("填写公钥信息或者developer自动生成，给三方app私钥")]),e._v(" "),t("li",[e._v("节点名称")])])]),e._v(" "),t("ol",{attrs:{start:"2"}},[t("li",[e._v("获取信息如下:")])]),e._v(" "),t("blockquote",[t("ol",[t("li",[e._v("AppId")]),e._v(" "),t("li",[e._v("ApiKey, ApiSecret(可动态替换)")]),e._v(" "),t("li",[e._v("对应平台的SDK。")])])]),e._v(" "),t("h3",{attrs:{id:"web-部分流程"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#web-部分流程"}},[e._v("#")]),e._v(" web 部分流程")]),e._v(" "),t("ol",[t("li",[e._v("获取js的sdk（Hep.js）填写AppId，")]),e._v(" "),t("li",[e._v("实现登录，支付，上链的回调接口，正在扫描中...")]),e._v(" "),t("li",[e._v("需要为每笔商品生成交易编号")])]),e._v(" "),t("h4",{attrs:{id:"hep-protocol"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#hep-protocol"}},[e._v("#")]),e._v(" Hep protocol")]),e._v(" "),t("ol",[t("li",[e._v("需要填入AppId,(需要时间戳，标记过期)")]),e._v(" "),t("li",[e._v("Hep://AppId/ActionType/Params")])]),e._v(" "),t("blockquote",[t("p",[e._v("AppId 用于网址寻址，加密传输\nActionType:Login, Pay, PlaceOrder...")])]),e._v(" "),t("h4",{attrs:{id:"hep-provider"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#hep-provider"}},[e._v("#")]),e._v(" Hep provider")]),e._v(" "),t("ol",[t("li",[e._v("登录将newid 信息传递到H5")]),e._v(" "),t("li",[e._v("调起支付")]),e._v(" "),t("li",[e._v("上链")])]),e._v(" "),t("h4",{attrs:{id:"hep-node"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#hep-node"}},[e._v("#")]),e._v(" Hep Node")]),e._v(" "),t("h4",{attrs:{id:"demo-网站"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#demo-网站"}},[e._v("#")]),e._v(" Demo 网站")]),e._v(" "),t("h5",{attrs:{id:"登录"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#登录"}},[e._v("#")]),e._v(" 登录")]),e._v(" "),t("ol",[t("li",[e._v("点击使用 NewID 登录，通过 Hep.js 生成登录的QRCode（Hep://324/0）")]),e._v(" "),t("li",[e._v("NewPay 扫描到信息，根据AppId和ActionType，先去 Hep-node 验证App信息，验证合法之后, 显示Dapp信息，调取授权页面，签名信息，发送到 Hep-node, Hep-node 查询ProofEngine 拿到登录需要的信息，发送到dapp的api接口（Hep.js处理，同时记录登录信息），Hep.js 拿到数据自己Decode验证信息，确认数据的合法性，通知网站前台页面登录成功。")])]),e._v(" "),t("h5",{attrs:{id:"支付"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#支付"}},[e._v("#")]),e._v(" 支付")]),e._v(" "),t("ol",[t("li",[e._v("点击使用 New 支付，通过 Hep.js 生成支付的QRCode（Hep://324/1/100&address）")]),e._v(" "),t("li",[e._v("NewPay 扫描到信息，验证App信息，调取授权，支付，获取txid，将txid，发送到Hep-node，同时记录交易信息，然后发送txid到三方网站的Hep.js, hep.js 去链上查询交易信息，确认后显示支付成功页面")])]),e._v(" "),t("h5",{attrs:{id:"上链"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#上链"}},[e._v("#")]),e._v(" 上链")]),e._v(" "),t("ol",[t("li",[e._v("点击数据上链，生成QRCode（Hep://324/2/(三方app的交易编号)）")]),e._v(" "),t("li",[e._v("NewPay 扫描信息，验证App信息，授权，查询是否有上链资格，根据订单编号信息，获取交易信息，交易上链，发送txid到Hep-node和rpc，hep-node 将上链信息提交到Hep.js 自行处理数据信息，显示成功页面")])]),e._v(" "),t("h3",{attrs:{id:"节点选择"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#节点选择"}},[e._v("#")]),e._v(" 节点选择")]),e._v(" "),t("ol",[t("li",[e._v("根据参加节点锁定的new的数量决定三方DApp的权益")])]),e._v(" "),t("blockquote",[t("p",[e._v("eg: 锁定 1000w New, （计算NewMall大致获得的NF，和交易额）设置每天获取NF的帽，比如 10W nf，如果超过10w nf数额，那么改Dapp就没有上链的能力，需要等到第二天，刷新数据（类似每月的定额发票），\n关于收税：一方面从该Dapp的NF中扣点收税，进入NewTax，比如今天NewMall今天产生了10W NF，那么有30% NF 产生的new进入 newtax")])]),e._v(" "),t("h4",{attrs:{id:"newcard-添加（开门，交互逻辑）"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#newcard-添加（开门，交互逻辑）"}},[e._v("#")]),e._v(" NewCard 添加（开门，交互逻辑）")])])}),[],!1,null,null,null);a.default=_.exports}}]);